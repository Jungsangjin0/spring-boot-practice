<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
		<h1 style="text-align: center; font-size:100px; margin:0 auto;">글쓰기</h1>
		
		<form style="text-align: center;" th:id="@{writeForm}">
			<input type="hidden" name="writer" th:value="${session.user.id}">
			<h3 th:text="@{제목}"></h3>
			<input th:type="@{text}" th:name="@{title}" style="width:500px; height:30px; ">
			<h3 th:text="@{내용}"></h3>
			<textarea th:name="@{content}" style="width:500px; height:300px; resize: none"></textarea>
		<div>
		
			<button th:if="${session.user != null and not #strings.equals(session.user, '')}"th:id="@{form-submit}" th:type="@{button}" th:text="@{작성하기}" style="margin-top : 50px;"></button>
			
		</div>
		</form> 
</body>
</html>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script th:inline="javascript">
	$(function(){
		const context =  /*[[@{/}]]*/		
		
		$("#form-submit").on("click", function(){
			let writeForm = $("#writeForm")
			writeForm.attr("action", (context + 'write'))
			writeForm.attr("method", "post")
			writeForm.submit();
		});		
	});
</script>